<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voter Dashboard</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
            color: #333;
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }

        .dark-mode {
            background-color: #121212;
            color: #f8f9fa;
        }

        .container {
            margin-top: 20px;
        }

        .progress-bar {
            transition: width 0.5s;
        }

        .welcome {
            margin-bottom: 20px;
            text-align: center;
        }

        .quick-links ul {
            list-style-type: none;
            padding: 0;
        }

        .quick-links ul li a {
            text-decoration: none;
            color: #007bff;
        }

        .quick-links ul li a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <!-- Dark/Light Mode Toggle -->
    <div class="text-end p-3">
        <button id="toggleTheme" class="btn btn-outline-secondary">Switch to Dark Mode</button>
    </div>

    <!-- Main Content -->
    <div class="container">
        <!-- Welcome Message -->
        <div class="welcome">
            <h1 id="welcomeMessage">Welcome, Voter!</h1>
        </div>

        <!-- Progress Tracker -->
        <div class="mb-4">
            <h4>Your Participation</h4>
            <div class="progress">
                <div class="progress-bar" role="progressbar" style="width: 50%;" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">50%</div>
            </div>
        </div>

        <!-- Election Status Cards -->
        <div class="mb-4">
            <h4>Ongoing Elections</h4>
            <div id="electionCards">
                <div class="card mb-3">
                    <div class="card-header bg-primary text-white">Presidential Election</div>
                    <div class="card-body">
                        <p>Start Date: 1st Dec 2024</p>
                        <p>End Date: 5th Dec 2024</p>
                        <button class="btn btn-success">Vote Now</button>
                    </div>
                </div>

                <div class="card mb-3">
                    <div class="card-header bg-success text-white">City Council Election</div>
                    <div class="card-body">
                        <p>Start Date: 10th Dec 2024</p>
                        <p>End Date: 15th Dec 2024</p>
                        <button class="btn btn-success">Vote Now</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Search Bar -->
        <div class="mb-4">
            <input type="text" id="searchBar" class="form-control" placeholder="Search for an election...">
        </div>

        <!-- Election History -->
        <div class="mb-4">
            <h4>Election History</h4>
            <ul class="list-group">
                <li class="list-group-item">Presidential Election - Voted on 1st Jan 2024</li>
                <li class="list-group-item">City Council Election - Voted on 15th Jan 2024</li>
            </ul>
        </div>

        <!-- Real-Time Updates -->
        <div class="mb-4">
            <h4>Time Remaining for Current Elections</h4>
            <p>Presidential Election: <span id="countdownTimer"></span></p>
        </div>

        <!-- Quick Links -->
        <div class="quick-links mb-4">
            <h4>Quick Links</h4>
            <ul>
                <li><a href="faq.html">FAQs</a></li>
                <li><a href="help.html">Help Center</a></li>
                <li><a href="privacy.html">Privacy Policy</a></li>
            </ul>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const toggleTheme = document.getElementById('toggleTheme');
        const body = document.body;

        // Apply Dark/Light Mode Toggle
        toggleTheme.addEventListener('click', () => {
            body.classList.toggle('dark-mode');
            toggleTheme.textContent = body.classList.contains('dark-mode') ? 'Switch to Light Mode' : 'Switch to Dark Mode';
        });

        // Welcome Message
        const userName = "John Doe"; // Replace with dynamic data from login/session
        document.getElementById('welcomeMessage').textContent = `Welcome, ${userName}!`;

        // Real-Time Countdown Timer
        const endTime = new Date('2024-12-05T23:59:59').getTime(); // Dynamic election end date
        const countdown = document.getElementById('countdownTimer');
        setInterval(() => {
            const now = new Date().getTime();
            const timeLeft = endTime - now;

            const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

            countdown.textContent = `${days}d ${hours}h ${minutes}m ${seconds}s`;
        }, 1000);

        // Search Bar Functionality
        const searchBar = document.getElementById('searchBar');
        searchBar.addEventListener('input', function () {
            const searchQuery = searchBar.value.toLowerCase();
            const electionCards = document.querySelectorAll('.card');
            electionCards.forEach(card => {
                const text = card.textContent.toLowerCase();
                card.style.display = text.includes(searchQuery) ? 'block' : 'none';
            });
        });
    </script>
</body>
</html>
